<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet library="css" name="style.css" />
	<title>Cadastro de Serviços</title>
</h:head>

<h:body>
	<header>
		<div style="float: center;">
			<h:graphicImage library="images" name="logo.png" width="100" />
		</div>
	</header>

	<h:form id="frm">

		<h1>Informações de Serviço</h1>
		<p:panel>
			<h:panelGrid columns="2">
				<p:outputLabel value="Serviço" />
				<p:inputText value="#{servicoMB.servico.nome}" size="50"
					required="true" label="Serviço" />

				<p:outputLabel value="Valor" />
				<p:inputText size="6" value="#{servicoMB.servico.valor}"
					required="true" label="Valor">
					<f:convertNumber minFractionDigits="2" locale="pt_BR"
						minIntegerDigits="0" />
				</p:inputText>
				<p:outputLabel />

				<p:commandButton value="Cadastrar"
					action="#{bean.adicionar}" update="frm tabela"
					style="margin-top: 10px;" />
			</h:panelGrid>
			
			<h1>Lista de Serviços</h1>
			<p:dataTable value="#{servicoMB.servicos}" var="p" border="1"
				id="tabela" paginator="true" rows="5">
				
				<p:column headerText="Serviço" width="200">
					<p:outputLabel value="#{p.nome}" />
				</p:column>
				
				<p:column headerText="Valor" width="100">
					<p:outputLabel value="#{p.valor}" >
						<f:convertNumber type="currency" currencySymbol="R$" />
					</p:outputLabel>
				</p:column>
		
				<p:column headerText="" width="100">
					<p:commandButton icon="ui-icon-pencil" update="@form tabela" 
						process="@this">
						<f:setPropertyActionListener value="#{p}" target="#{servicoMB.servico}" />
					</p:commandButton>
		
					<p:commandButton action="#{bean.excluir}" icon="ui-icon-trash"
						update="tabela" process="@this">
						<f:setPropertyActionListener value="#{p}" target="#{servicoMB.servico}" />
					</p:commandButton>
				</p:column>		
			</p:dataTable>
			
		</p:panel>
	</h:form>	

</h:body>
</html>